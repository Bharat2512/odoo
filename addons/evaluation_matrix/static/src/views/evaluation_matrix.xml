<?xml version="1.0" encoding="UTF-8"?>

<templates id="template" xml:space="preserve">
    <t t-name="comparison.factor_children">
        <t t-foreach="comp_factor_children" t-as="comp_factor_child">
            <tr t-attf-class="row-level-#{row_level}" t-att-parent-id="comp_factor_child.parent_id" t-att-factor-id="comp_factor_child.id" data-children="hidden">
                <td><t t-esc="comp_factor_child.name"/></td>
                <td>
                    <a t-if= "comp_factor_child.child_ids.length != 0" class="show-children"><i height="20" width="20" class="fa fa-search"></i></a>
                </td>
                <td></td>
                <td class="ponderation">
                    <t t-esc="comp_factor_child.ponderation"/>
                    <span class="pond"> 
                        <a href="" class="oe_up-ponderation">
                            <i style='color:green' class='fa fa-arrow-circle-o-up fa-2x'></i>
                        </a> 
                        <a href="" class="oe_down-ponderation">
                            <i style='color:red' class='fa fa-arrow-circle-o-down fa-2x'></i>
                        </a>
                    </span>
                </td>
                <t t-foreach="comparison_products" t-as="comparison_product">
                    <td t-attf-class="center-text-cell #{(comp_factor_child.type === 'criterion') ? 'votes' : ''}">
                        <div t-attf-class="#{comparison_results[comp_factor_child.id][comparison_product.id] &gt; 80 ? 'child-votes-green' : comparison_results[comp_factor_child.id][comparison_product.id] &lt; 40 ? 'child-votes-red' : 'child-votes-blue'} votes-result">
                            <span>
                                <t t-esc="comparison_results[comp_factor_child.id][comparison_product.id]"/> 
                            </span> %
                        </div>
                        <div class="votes-buttons">
                            <button type="button" class="btn btn-danger"><i class="fa fa-close"></i></button>
                            <button type="button" class="btn btn-info">3rd Party</button>
                            <button type="button" class="btn btn-success"><i class="fa fa-check"></i></button>
                        </div>
                    </td>
                </t>
            </tr>
        </t>
        <tr t-attf-class="row-level-#{row_level}" t-att-parent-id="parent_id">
            <td>
                <button type="button" class="btn btn-default oe_create-criterion"><i class="fa fa-plus"></i> Propose new criterion </button>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <t t-foreach="comparison_products" t-as="comparison_product">
                <td></td>
            </t>
        </tr>
    </t>

    <t t-name="comparison.create_criterion">
        <div class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Create a criterion</h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal" role="form">
                            <div class="form-group">
                                <label for="inputName" class="col-sm-2 control-label">Name</label>
                                <div class="col-sm-10">
                                  <input type="text" class="form-control name" id="inputName"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputNote" class="col-sm-2 control-label">Note</label>
                                <div class="col-sm-10">
                                    <textarea class="form-control note" rows="3" id="inputNote"></textarea>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary create">Create</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
    </t>
</templates>
