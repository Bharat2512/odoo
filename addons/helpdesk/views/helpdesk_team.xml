<?xml version="1.0"?>
<odoo>

    <!-- Teams -->
    <record id="helpdesk_team_tree" model="ir.ui.view">
        <field name="name">Helpdesk Teams</field>
        <field name="model">helpdesk.team</field>
        <field name="arch" type="xml">
            <tree string="Helpdesk Team">
                <field name="sequence" widget="handle"/>
                <field name="name"/>
                <field name="alias_id"/>
            </tree>
        </field>
    </record>

    <record id="helpdesk_team_search" model="ir.ui.view">
        <field name="name">Search Teams</field>
        <field name="model">helpdesk.team</field>
        <field name="arch" type="xml">
            <search string="Team search">
                <field name="name"/>
            </search>
        </field>
    </record>

    <record id="action_team_sla" model="ir.actions.act_window">
        <field name="name">SLA Policies</field>
        <field name="res_model">helpdesk.sla</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'default_condition_team_id': active_id, 'search_default_condition_team_id': active_id}</field>
        <field name="help" type="html">
          <p class="oe_view_nocontent_create">
            Click to create a new Service Level Agreement (SLA) policy.
          </p><p>
            A service level agreement is a contract between you and your
            customers that specifies performance measures for support
            by ticket priority.
          </p><p>
            For example, we respond to urgent tickets related to bugs
            intwo hours and resolve them within 36 hours.
          </p>
        </field>
    </record>

    <record id="helpdesk_team_form" model="ir.ui.view">
        <field name="name">Helpdesk Teams</field>
        <field name="model">helpdesk.team</field>
        <field name="arch" type="xml">
            <form string="team search">
                <sheet>
                    <div class="oe_title">
                        <label for="name" class="oe_edit_only"/>
                        <h1><field name="name" placeholder="Helpdesk Team..."/></h1>
                    </div>

                    <h2 class="mt32">Channels</h2>
                    <p class="text-muted">
                        Channels are the ways in which your customers engage with you.
                    </p>
                    <div class="row mt16">
                      <div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <field name="feature_email" style="padding: 12px; margin: 0"/>
                            </span>
                            <div class="form-control" style="float: none;">
                                <span class="fa fa-3x fa-envelope pull-right"/>
                                <label for="feature_email"/>
                                <div class="text-muted">Incoming emails create tickets and you can discuss by email.</div>
                                <div attrs="{'invisible': [('feature_email','=',False)]}">
                                    <hr class="mt8 mb8"/>
                                    <group class="oe_edit_only">
                                        <label for="alias_id" string="Choose an Email:"/>
                                        <div class="oe_inline" name="edit_alias" style="display: inline;" >
                                            <field name="alias_name" class="oe_inline" attrs="{'required': [('feature_email','=',True)]}"/>@<field name="alias_domain" class="oe_inline" readonly="1"/>
                                        </div>
                                    </group>
                                    <p class="oe_read_only">
                                        Send emails to
                                        <strong>
                                            <field name="alias_id" class="oe_read_only oe_inline" required="False"/>
                                        </strong>
                                        to create tickets.
                                    </p>
                                </div>
                            </div>
                        </div>
                      </div><div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <field name="feature_livechat" style="padding: 12px; margin: 0"/>
                            </span>
                            <div class="form-control" style="float: none;">
                                <span class="fa fa-3x fa-comments pull-right"/>
                                <label for="feature_livechat"/>
                                <div class="text-muted">Get in touch with you website visitors.</div>
                                <div attrs="{'invisible': [('feature_livechat','=',False)]}">
                                    <hr class="mt8 mb8"/>
                                    <div attrs="{'invisible': [('feature_livechat_channel_id','&lt;&gt;',False)]}" class="text-warning">
                                        Save this page to activate the feature.
                                    </div>
                                    <div attrs="{'invisible': [('feature_livechat_channel_id','=',False)]}">
                                        <p>
                                            Test the livechat widget from this page:
                                            <field name="feature_livechat_web_page" readonly="1" class="badge" widget="url"/>
                                        </p>
                                        <p>
                                            Setup the <strong>
                                                <field name="feature_livechat_channel_id" readonly="1" class="oe_online"/>
                                            </strong> channel to define auto-popup rules and geolocation filters.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                      </div>
                    </div><div class="row mt32">
                      <div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <field name="feature_form" style="padding: 12px; margin: 0"/>
                            </span>
                            <div class="form-control" style="float: none;">
                                <span class="fa fa-3x fa-edit pull-right"/>
                                <label for="feature_form"/>
                                <div class="text-muted">Submit tickets with an online form having custom fields.</div>
                                <div attrs="{'invisible': [('feature_form_url','=',False)]}">
                                    <hr class="mt8 mb8"/>
                                    Submit an issue using this page:<br/>
                                    ⇒ <field name="feature_form_url" readonly="1" class="oe_inline" widget="url"/>
                                </div>
                            </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <field name="feature_twitter" style="padding: 12px; margin: 0"/>
                            </span>
                            <div class="form-control" style="float: none;">
                                <span class="fa fa-3x fa-twitter pull-right"/>
                                <label for="feature_twitter"/>
                                <div class="text-muted">Monitor twitter activities and create tickets on the fly.</div>
                                <div attrs="{'invisible': [('feature_twitter','=',False)]}">
                                    <hr class="mt8 mb8"/>
                                    <a href="/" name="View contact form">⇒ Not implemented yet...</a>
                                </div>
                            </div>
                        </div>
                      </div>
                    </div><div class="row mt32">
                      <div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <field name="feature_api" style="padding: 12px; margin: 0"/>
                            </span>
                            <div class="form-control" style="float: none;">
                                <span class="fa fa-3x fa-gears pull-right"/>
                                <label for="feature_api"/>
                                <div class="text-muted">Connect third party application and create tickets using web services.</div>
                                <div attrs="{'invisible': [('feature_api','=',False)]}">
                                    <hr class="mt8 mb8"/>
                                    <!-- TODO: write a dedicated doc on how to create helpdesk tickets -->
                                    <a href="https://odoo.com/documentation" target="_blank">⇒ View documentation</a>
                                </div>
                            </div>
                        </div>
                      </div>
                    </div>

                    <h2 class="mt32">Self-Service</h2>
                    <p class="text-muted">
                        Knowledge base, communities, and training material to empower your customers.
                    </p>
                    <div class="row mt16">
                      <div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <field name="feature_helpcenter" style="padding: 12px; margin: 0"/>
                            </span>
                            <div class="form-control" style="float: none;">
                                <span class="fa fa-3x fa-quote-left pull-right"/>
                                <label for="feature_helpcenter"/>
                                <div class="text-muted">Question and answer section on your website.</div>
                                <div attrs="{'invisible': [('feature_helpcenter','=',False)]}" id="feature_helpcenter"/>
                            </div>
                        </div>
                      </div><div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <field name="feature_elearning" style="padding: 12px; margin: 0"/>
                            </span>
                            <div class="form-control" style="float: none;">
                                <span class="fa fa-3x fa-globe pull-right"/>
                                <label for="feature_elearning"/>
                                <div class="text-muted">Share presentation and videos, and organize into courses.</div>
                                <div attrs="{'invisible': [('feature_elearning','=',False)]}" id="feature_elearning"/>
                            </div>
                        </div>
                      </div>
                    </div>

                    <h2 class="mt32">Performance</h2>
                    <p class="text-muted">
                        Optimize your support workflows and get feedback on agents performances.
                    </p>
                    <div class="row mt16">
                      <div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <field name="feature_rating" style="padding: 12px; margin: 0"/>
                            </span>
                            <div class="form-control" style="float: none;">
                                <span class="fa fa-3x fa-star-half-full pull-right"/>
                                <label for="feature_rating"/>
                                <div class="text-muted">Allow your customers to easily rate your services.</div>
                                <div attrs="{'invisible': [('feature_rating','=',False)]}">
                                    <hr class="mt8 mb8"/>
                                    <p>Not implemented yet...</p>
                                </div>
                            </div>
                        </div>
                      </div><div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <field name="feature_sla" style="padding: 12px; margin: 0"/>
                            </span>
                            <div class="form-control" style="float: none;">
                                <span class="fa fa-3x fa-dashboard pull-right"/>
                                <label for="feature_sla"/>
                                <div class="text-muted">Register your different level of SLAs applied to tickets.</div>
                                <div attrs="{'invisible': [('feature_sla','=',False)]}">
                                    <hr class="mt8 mb8"/>
                                    <button name="%(action_team_sla)d" type="action" string="Configure SLA Policies" class="btn-link"/>
                                </div>
                            </div>
                        </div>
                      </div>
                    </div>

                    <h2 class="mt32">Productivity</h2>
                    <p class="text-muted">
                        Build automated answer to improve your agent efficiency.
                    </p>
                    <div class="row mt16">
                      <div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <field name="feature_template" style="padding: 12px; margin: 0"/>
                            </span>
                            <div class="form-control" style="float: none;">
                                <span class="fa fa-3x fa-comments pull-right"/>
                                <label for="feature_template"/>
                                <div class="text-muted">Define template of emails to answer faster.</div>
                                <div attrs="{'invisible': [('feature_template','=',False)]}">
                                    <hr class="mt8 mb8"/>
                                    <p>Not implemented yet...</p>
                                </div>
                            </div>
                        </div>
                      </div>
                    </div>

                </sheet>
            </form>
        </field>
    </record>

    <record id="helpdesk_team_act" model="ir.actions.act_window">
        <field name="name">Helpdesk Teams</field>
        <field name="res_model">helpdesk.team</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'default_name': 'Support'}</field>
        <field name="help" type="html">
          <p class="oe_view_nocontent_create">
            Click to create a new ticket team.
          </p><p>
            Teams allows to organize tickets.
          </p>
        </field>
    </record>
    <menuitem
        action="helpdesk_team_act"
        id="menu_helpdesk_team_act"
        sequence="1" parent="helpdesk.menu_helpdesk_config"/>

</odoo>
